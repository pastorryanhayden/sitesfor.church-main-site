var check_pass,check_step3,check_step5,check_step6,setReviewInfo,sendToAirbase,previewTheme,formValidation;$(document).ready(function(){var e=$("#email"),a=$("#username"),t=$("#password"),i=$("#choose_theme"),r=$("#name_of_church"),n=$("#name_of_city"),s=$("#name_of_domain"),c=$("#checkbox_domain"),o=$("#service_schedule_txtarea"),h=$("#pastor_name"),l=$("#church_address"),d=$("#church_phone"),m=$("#church_email"),_=$("#web_lead_name"),v=$("#web_lead_phone"),u=$("#web_lead_email"),p=$("#best_time_to_call");formValidation=function(e,a){var t=$("#"+e),i=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,r=/^([a-z0-9]){3,15}$/;switch(a){case"email":return i.test(t.val())&&""!=t.val()?(f.removeAttr("disabled"),t.removeClass("has-error"),!0):(f.attr("disabled",!0),t.addClass("has-error"),!1);case"username":return r.test(t.val())&&""!=t.val()?(f.removeAttr("disabled"),t.removeClass("has-error"),!0):(f.attr("disabled",!0),t.addClass("has-error"),!1)}};var f=$("#continue0");check_pass=function(){$("#password").val()==$("#confirm_password").val()?""!=$("#email").val()&&""!=$("#username").val()&&""!=$("#password").val()&&""!=$("#confirm_password").val()&&f.removeAttr("disabled"):f.attr("disabled",!0)},f.click(function(){$("#step1").fadeOut(),$("#step2").fadeIn(600)}),previewTheme=function(){switch(i.val()){case"California":$("#theme_preview_image, #theme_preview_image_review").attr("src","http://sitesforchurch.s3.amazonaws.com/california_480.png"),$("#theme_description, #review_theme_description").html('California is a modern church theme, it features promoted series, ministries and events on the home page. For an example visit <a href="http://biblebaptistmattoon.org" target="_blank">biblebaptistmattoon.org</a>');break;case"New_England":$("#theme_preview_image, #theme_preview_image_review").attr("src","http://sitesforchurch.s3.amazonaws.com/new-england_480.png"),$("#theme_description, #review_theme_description").html('New England is a subdued and traditional theme that showcases a churches latest sermons and recent photos.  You can check out an example <a href="http://new-england.pubstorm.site" target="_blank"> here</a>');break;case"Adore":$("#theme_preview_image, #theme_preview_image_review").attr("src","http://sitesforchurch.s3.amazonaws.com/adore.png"),$("#theme_description, #review_theme_description").html('Adore is a bright and clean theme with a home page slider and unique events listing.  You can check out an example <a href="http://adore-theme.pubstorm.site" target="_blank"> here</a>');break;case"Native":$("#theme_preview_image, #theme_preview_image_review").attr("src","http://sitesforchurch.s3.amazonaws.com/native_480.png"),$("#theme_description, #review_theme_description").html('Native is an extremely versatile theme that works great with both traditional and modern styles.  You can check out an example <a href="http://native.pubstorm.site" target="_blank"> here</a>')}},$("#choose_theme option:selected")?$("#continue1").removeAttr("disabled"):$("#continue1").attr("disabled",!0),$("#continue1").click(function(){$("#step2").fadeOut(),$("#step3").fadeIn(600)}),check_step3=function(){""!=$("#name_of_church").val()&&""!=$("#name_of_city").val()&&""!=$("#name_of_domain").val()?$("#continue2").removeAttr("disabled"):$("#continue2").attr("disabled",!0)},$("#continue2").click(function(){$("#step3").fadeOut(),$("#step4").fadeIn(600)});var w="Enter your schedule here...";$("#service_schedule_txtarea").val(w),$("#service_schedule_txtarea").focus(function(){$(this).val()===w&&$(this).val("")}),$("#service_schedule_txtarea").blur(function(){""===$(this).val()&&$(this).val(w)}),$("#continue3").click(function(){$("#step4").fadeOut(),$("#step5").fadeIn(600)}),check_step5=function(){""!=$("#pastor_name").val()&&""!=$("#church_address").val()&&""!=$("#church_phone").val()&&""!=$("#church_email").val()?$("#continue4").removeAttr("disabled"):$("#continue4").attr("disabled",!0)},$("#continue4").click(function(){$("#step5").fadeOut(),$("#step6").fadeIn(600)}),check_step6=function(){""!=$("#web_lead_name").val()&&""!=$("#web_lead_phone").val()&&""!=$("#web_lead_email").val()?$("#continue5").removeAttr("disabled"):$("#continue5").attr("disabled",!0)},$("#continue5").click(function(){setReviewInfo(),sendToAirbase(),$("#step6").fadeOut(),$("#step7").fadeIn(600)}),setReviewInfo=function(){$("#review_theme_name").text(i.val()),$("#church_name_preview").text(r.val()),$("#church_location_preview").text(n.val()),$("#Domain_preview").text(s.val()),$("#checkbox_domain").is(":checked")?$("#domain_is_purchased").text("Yes"):$("#domain_is_purchased").text("No");var e=o.val().split("\n");e.forEach(function(e,a){$("#service-schedule-container").append("<p>"+e+"</p>")}),$("#PastorName_preview").text(h.val()),$("#ChurchAddress_preview").text(l.val()),$("#ChurchPhone_preview").text(d.val()),$("#ChurchEmail_preview").text(m.val()),$("#WebLeadName_preview").text(_.val()),$("#WebLeadPhone_preview").text(v.val()),$("#WebLeadEmail_preview").text(u.val()),$("#BestTimeToCall_preview").text(p.val())},$("#continue6").click(function(){$("#step7").fadeOut(),$("#step8").fadeIn(600)}),sendToAirbase=function(){var f={};f.username=a.val(),f.email=e.val(),f.password=t.val(),f.theme=i.val(),f.churchName=r.val(),f.churchCity=n.val(),f.churchDomain=s.val(),f.churchDomainOwned=c.is(":checked"),f.serviceSchedule=o.val(),f.pastorName=h.val(),f.churchAddress=l.val(),f.churchPhone=d.val(),f.churchEmail=m.val(),f.webLeadName=_.val(),f.webLeadPhone=v.val(),f.webLeadEmail=u.val(),f.bestToCall=p.val(),$.ajax({type:"POST",headers:{"Access-Control-Allow-Origin":"*"},data:JSON.stringify(f),contentType:"application/json",url:"https://siteforchurch-backend-nodejs.herokuapp.com/air",crossDomain:!0,success:function(e){console.log("success"),console.log(JSON.stringify(e))}})}});