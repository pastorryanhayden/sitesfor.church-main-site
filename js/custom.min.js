var setReviewInfo,sendToAirbase,previewTheme,formValidation;$(document).ready(function(){var e=$("#email"),a=$("#username"),t=$("#password"),r=($("#confirm_password"),$("#choose_theme")),s=$("#name_of_church"),n=$("#name_of_city"),o=$("#name_of_domain"),i=$("#checkbox_domain"),h=$("#service_schedule_txtarea"),c=$("#pastor_name"),l=$("#church_address"),d=$("#church_phone"),m=$("#church_email"),u=$("#web_lead_name"),v=$("#web_lead_phone"),p=$("#web_lead_email"),_=$("#best_time_to_call"),w=$("#continue0"),b=!1,f=!1,x=!1,g=!1,k=!1,C=!1,y=!1,E=!1,z=!1,A=!1,N=!1,O=!1,I=!1,T=!1;formValidation=function(e){var a=$("#"+e),r=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,s=/^([a-z0-9]){4,15}$/,n=/[^\s]{6,15}/,o=/[^\s]{3,}/,i=/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/;switch(e){case"email":r.test(a.val())&&""!=a.val()?(b=!0,$("#email-hint").text(""),a.removeClass("has-error")):(b=!1,a.addClass("has-error"),$("#email-hint").text("Ensure you enter correct email"));break;case"username":s.test(a.val())&&""!=a.val()?(f=!0,$("#username-hint").text(""),a.removeClass("has-error")):(f=!1,$("#username-hint").text("Ensure username is 4 to 15 characters"),a.addClass("has-error"));break;case"password":n.test(a.val())&&""!=a.val()?(x=!0,$("#password-hint").text(""),a.removeClass("has-error")):(x=!1,$("#password-hint").text("Ensure your password is 6 to 15 characters without any white space"),a.addClass("has-error"));break;case"confirm_password":n.test(a.val())&&""!=a.val()&&a.val()==t.val()?(g=!0,$("#password-confirm-hint").text(""),a.removeClass("has-error")):(g=!1,$("#password-confirm-hint").text("Ensure your password matches the one entered above"),a.addClass("has-error"));break;case"name_of_church":o.test(a.val())&&""!=a.val()?(k=!0,$("#church-name-hint").text(""),a.removeClass("has-error")):(k=!1,$("#church-name-hint").text("Ensure you enter the name of your church"),a.addClass("has-error"));break;case"name_of_city":a.val().length<3||""==a.val()?(C=!1,$("#church-location-hint").text("Ensure you enter the location or city of your church"),a.addClass("has-error")):(C=!0,$("#church-location-hint").text(""),a.removeClass("has-error"));break;case"name_of_domain":i.test(a.val())&&""!=a.val()?(y=!0,$("#church-domain-hint").text(""),a.removeClass("has-error")):(y=!1,$("#church-domain-hint").text("Ensure you enter a valid domain"),a.addClass("has-error"));break;case"pastor_name":""==a.val()||a.val().length<3?(E=!1,$("#pastor-hint").text("Ensure pastor's is more than two characters"),a.addClass("has-error")):(E=!0,$("#pastor-hint").text(""),a.removeClass("has-error"));break;case"church_address":a.val().length<4||""==a.val()?(z=!1,a.addClass("has-error")):(z=!0,a.removeClass("has-error"));break;case"church_phone":a.val().length<7?(A=!1,$("#church-phone-hint").text("Ensure your enter a valid phone number"),a.addClass("has-error")):(A=!0,$("#church-phone-hint").text(""),a.removeClass("has-error"));break;case"church_email":r.test(a.val())&&""!=a.val()?(N=!0,$("#church-email-hint").text(""),a.removeClass("has-error")):(N=!1,$("#church-email-hint").text("Ensure you enter a valid email"),a.addClass("has-error"));break;case"web_lead_name":""==a.val()||a.val().length<3?(O=!1,$("#web-lead-name-hint").text("Ensure your Web Lead name is more than 2 characters"),a.addClass("has-error")):(O=!0,$("#web-lead-name-hint").text(""),a.removeClass("has-error"));break;case"web_lead_phone":a.val().length<7?(I=!1,$("#web-lead-phone-hint").text("Ensure you enter a valid phone number"),a.addClass("has-error")):(I=!0,$("#web-lead-phone-hint").text(""),a.removeClass("has-error"));break;case"web_lead_email":r.test(a.val())&&""!=a.val()?(T=!0,$("#web-lead-email-hint").text(""),a.removeClass("has-error")):(T=!1,$("#web-lead-email-hint").text("Ensure you enter a valid email address"),a.addClass("has-error"))}1==b&&1==f&&1==x&&1==g?w.removeAttr("disabled"):w.attr("disabled",!0),1==k&&1==C&&1==y?$("#continue2").removeAttr("disabled"):$("#continue2").attr("disabled",!0),1==E&&1==z&&1==A&&1==N?$("#continue4").removeAttr("disabled"):$("#continue4").attr("disabled",!0),1==O&&I&&1==T?$("#continue5").removeAttr("disabled"):$("#continue5").attr("disabled",!0)},previewTheme=function(){switch(r.val()){case"California":$("#theme_preview_image, #theme_preview_image_review").attr("src","http://sitesforchurch.s3.amazonaws.com/california_480.png"),$("#theme_description, #review_theme_description").html('California is a modern church theme, it features promoted series, ministries and events on the home page. For an example visit <a href="http://biblebaptistmattoon.org" target="_blank">biblebaptistmattoon.org</a>');break;case"New_England":$("#theme_preview_image, #theme_preview_image_review").attr("src","http://sitesforchurch.s3.amazonaws.com/new-england_480.png"),$("#theme_description, #review_theme_description").html('New England is a subdued and traditional theme that showcases a churches latest sermons and recent photos.  You can check out an example <a href="http://new-england.pubstorm.site" target="_blank"> here</a>');break;case"Adore":$("#theme_preview_image, #theme_preview_image_review").attr("src","http://sitesforchurch.s3.amazonaws.com/adore.png"),$("#theme_description, #review_theme_description").html('Adore is a bright and clean theme with a home page slider and unique events listing.  You can check out an example <a href="http://adore-theme.pubstorm.site" target="_blank"> here</a>');break;case"Native":$("#theme_preview_image, #theme_preview_image_review").attr("src","http://sitesforchurch.s3.amazonaws.com/native_480.png"),$("#theme_description, #review_theme_description").html('Native is an extremely versatile theme that works great with both traditional and modern styles.  You can check out an example <a href="http://native.pubstorm.site" target="_blank"> here</a>')}},setReviewInfo=function(){$("#review_theme_name").text(r.val()),$("#church_name_preview").text(s.val()),$("#church_location_preview").text(n.val()),$("#Domain_preview").text(o.val()),$("#checkbox_domain").is(":checked")?$("#domain_is_purchased").text("Yes"):$("#domain_is_purchased").text("No");var e=h.val().split("\n");e.forEach(function(e,a){$("#service-schedule-container").append("<p>"+e+"</p>")}),$("#PastorName_preview").text(c.val()),$("#ChurchAddress_preview").text(l.val()),$("#ChurchPhone_preview").text(d.val()),$("#ChurchEmail_preview").text(m.val()),$("#WebLeadName_preview").text(u.val()),$("#WebLeadPhone_preview").text(v.val()),$("#WebLeadEmail_preview").text(p.val()),$("#BestTimeToCall_preview").text(_.val())},sendToAirbase=function(){var w={};w.username=a.val(),w.email=e.val(),w.password=t.val(),w.theme=r.val(),w.churchName=s.val(),w.churchCity=n.val(),w.churchDomain=o.val(),w.churchDomainOwned=i.is(":checked"),w.serviceSchedule=h.val(),w.pastorName=c.val(),w.churchAddress=l.val(),w.churchPhone=d.val(),w.churchEmail=m.val(),w.webLeadName=u.val(),w.webLeadPhone=v.val(),w.webLeadEmail=p.val(),w.bestToCall=_.val(),$.ajax({type:"POST",headers:{"Access-Control-Allow-Origin":"*"},data:JSON.stringify(w),contentType:"application/json",url:"https://siteforchurch-backend-nodejs.herokuapp.com/air",crossDomain:!0,success:function(e){console.log("success"),console.log(JSON.stringify(e))}})};var L="Enter your schedule here...";h.val(L),h.focus(function(){$(this).val()===L&&$(this).val("")}),h.blur(function(){""===$(this).val()&&$(this).val(L)}),w.click(function(){$("#step1").fadeOut(),$("#step2").fadeIn(600)}),$("#choose_theme option:selected")?$("#continue1").removeAttr("disabled"):$("#continue1").attr("disabled",!0),$("#continue1").click(function(){$("#step2").fadeOut(),$("#step3").fadeIn(600)}),$("#continue2").click(function(){$("#step3").fadeOut(),$("#step4").fadeIn(600)}),$("#continue3").click(function(){$("#step4").fadeOut(),$("#step5").fadeIn(600)}),$("#continue4").click(function(){$("#step5").fadeOut(),$("#step6").fadeIn(600)}),$("#continue5").click(function(){setReviewInfo(),$("#step6").fadeOut(),$("#step7").fadeIn(600)}),$("#continue6").click(function(){$("#step7").fadeOut(),$("#step8").fadeIn(600)})});